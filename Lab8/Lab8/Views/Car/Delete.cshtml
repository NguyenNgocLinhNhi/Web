@model Lab8.Models.Car

<div class="container-fluid px-4">
    <h1 class="mt-4 text-uppercase fw-bold text-danger">Xác nhận xóa xe</h1>
    
    <div class="card shadow mb-4 border-left-danger">
        <div class="card-header py-3 bg-light">
            <h6 class="m-0 font-weight-bold text-danger">
                <i class="fas fa-exclamation-triangle me-2"></i> Cảnh báo: Hành động này không thể hoàn tác!
            </h6>
        </div>
        <div class="card-body">
            <h5 class="text-secondary mb-4">Bạn có chắc chắn muốn xóa xe này khỏi hệ thống?</h5>
            
            <div class="row">
                @* Hiển thị hình ảnh bên trái để kiểm tra *@
                <div class="col-md-4 text-center mb-3">
                    <div class="p-2 border rounded bg-light shadow-sm">
                        @if (!string.IsNullOrEmpty(Model.ImageUrl))
                        {
                            <img src="@Model.ImageUrl" alt="Car Image" class="img-fluid rounded" style="max-height: 250px; object-fit: contain;" />
                        }
                        else
                        {
                            <div class="d-flex align-items-center justify-content-center" style="height: 200px; color: #ccc;">
                                <i class="fas fa-car fa-5x"></i>
                            </div>
                            <p class="text-muted small mt-2">Không có hình ảnh</p>
                        }
                    </div>
                </div>

                @* Hiển thị thông tin chi tiết bên phải *@
                <div class="col-md-8">
                    <dl class="row">
                        <dt class="col-sm-4 text-muted">Tên phiên bản:</dt>
                        <dd class="col-sm-8 fw-bold text-primary">@Model.Name</dd>

                        <dt class="col-sm-4 text-muted">Dòng xe:</dt>
                        <dd class="col-sm-8">@Model.CarModel?.Name</dd>

                        <dt class="col-sm-4 text-muted">Hãng sản xuất:</dt>
                        <dd class="col-sm-8">
                             <span class="badge bg-info text-dark">@Model.CarModel?.Brand?.Name</span>
                        </dd>

                        <dt class="col-sm-4 text-muted">Giá bán hiện tại:</dt>
                        <dd class="col-sm-8 text-success fw-bold">@((Model.Price ?? 0).ToString("#,##0")) VNĐ</dd>

                        <dt class="col-sm-4 text-muted">Số lượng trong kho:</dt>
                        <dd class="col-sm-8">
                            <span class="badge @(Model.StockQuantity > 0 ? "bg-success" : "bg-secondary")">
                                @Model.StockQuantity chiếc
                            </span>
                        </dd>

                        <dt class="col-sm-4 text-muted">Mô tả ngắn:</dt>
                        <dd class="col-sm-8">
                            <p class="small text-muted font-italic">
                                @(string.IsNullOrEmpty(Model.Description) ? "Không có mô tả chi tiết." : Model.Description)
                            </p>
                        </dd>
                    </dl>
                </div>
            </div>

            <hr />
            <div class="mt-3 text-end">
                <form asp-action="Delete" method="post">
                    @* Input hidden để gửi ID về Controller *@
                    <input type="hidden" asp-for="Id" />
                    
                    <button type="submit" class="btn btn-danger px-5 fw-bold shadow-sm">
                        <i class="fas fa-trash-alt me-1"></i> XÁC NHẬN XÓA VĨNH VIỄN
                    </button>
                    <a asp-action="Index" class="btn btn-secondary px-4 ms-2 shadow-sm">
                        <i class="fas fa-times me-1"></i> HỦY BỎ
                    </a>
                </form>
            </div>
        </div>
    </div>
</div>